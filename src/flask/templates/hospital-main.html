<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hospital Administrator Service</title>
    <style rel="stylesheet" type="text/css">
        #map-box{position:absolute; right: 50px; top: 50px;}
        #user-name{position:absolute; right: 150px; top: 20px;}
        #logout-box{position: absolute; right:50px; top:20px; width:80px;}
        body{font-family: 'Courier New', Courier, monospace;}
        h4 h3{margin-bottom: 10px;}
    </style>
    <script src="https://code.jquery.com/jquery-3.4.1.js"
    integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
    crossorigin="anonymous"></script>
    <script>
    $(document).ready(() =>{
        $("#register").submit((e)=>{
            e.preventDefault()
            let formData= new FormData($("form")[0])
            $.ajax({
            type: "POST",
            url: "/register",
            cache: false,
            data:formData,
            processData: false,
            contentType:false,
            success: res => {
                console.log(res)
                }
            })
        })

        //등록 알람
        $("#register_btn").click(() => {
                alert("등록되었습니다");
            })
})
    </script>
</head>
<body>
    <div id="user-name">{{name}}님</div>
    <button id="logout-box"><a href="/">로그아웃</a></button>

    <h3>환자 명단 관리</h3>
    <h4>1) 신규 환자 등록</h4>
    <form method="POST" id="register">
        <input type="text" name="hospital" placeholder="소속병원명">
        <input type="text" name="name" placeholder="이름"/>
        <input type="text" name="phone" placeholder="핸드폰 번호">
        <input type="text" name="record" placeholder="기타">
        <button type="submit" id="register_btn">등록하기</button>
    </form>
   
</br>    
<h4>2) 방문 환자 관리</h4>
<form id="search" method="POST" target="param">
    <input type="text" name="hospital" placeholder="소속병원명">
    <input type="text" name="name" placeholder="환자명">
    <button formaction="{{url_for('select')}}" type="submit">검색하기</button>
    <button formaction="{{url_for('delete')}}" type="submit">삭제하기</button>
</form>
</br>
    <iframe name="param" frameborder="10" height="100" width="600"></iframe>
   
</br>
   
    <h4>3) 예약 환자 관리</h4>
    <form method="POST" target="reserve-box">
        <input type="text" name="hospital" placeholder="소속병원명">
        <button formaction="{{url_for('admin')}}">조회하기</button>
    </form>
</br>
    <iframe name="reserve-box" frameborder="10" height="100" width="600"></iframe>
</br>
    <button type="button" onclick="location.href='prescribe'">처방하기</button>
    
</body>
</html>